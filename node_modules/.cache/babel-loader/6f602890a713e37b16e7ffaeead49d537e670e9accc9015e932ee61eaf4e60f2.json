{"ast":null,"code":"import _slicedToArray from \"/Users/alex.walker/Projects/cafes/hana-take2/hana/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _defineProperty from \"/Users/alex.walker/Projects/cafes/hana-take2/hana/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport * as React from 'react';\nimport { useContext, useRef, useState, useEffect } from 'react';\nimport { useMemoOne, useOnce, raf } from '@react-spring/shared';\nimport { Controller, a, config } from '@react-spring/web';\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nvar _excluded = [\"horizontal\", \"factor\", \"offset\", \"speed\", \"sticky\"],\n  _excluded2 = [\"pages\", \"innerStyle\", \"config\", \"enabled\", \"horizontal\", \"children\"];\nvar ParentContext = React.createContext(null);\nfunction getScrollType(horizontal) {\n  return horizontal ? 'scrollLeft' : 'scrollTop';\n}\nfunction mapChildrenRecursive(children, callback) {\n  var isReactFragment = function isReactFragment(node) {\n    if (node.type) {\n      return node.type === React.Fragment;\n    }\n    return node === React.Fragment;\n  };\n  return React.Children.map(children, function (child) {\n    return isReactFragment(child) ? mapChildrenRecursive(child.props.children, callback) : callback(child);\n  });\n}\nvar START_TRANSLATE_3D = 'translate3d(0px,0px,0px)';\nvar START_TRANSLATE = 'translate(0px,0px)';\nvar ParallaxLayer = React.memo(React.forwardRef(function (_ref, ref) {\n  var _extends2;\n  var horizontal = _ref.horizontal,\n    _ref$factor = _ref.factor,\n    factor = _ref$factor === void 0 ? 1 : _ref$factor,\n    _ref$offset = _ref.offset,\n    offset = _ref$offset === void 0 ? 0 : _ref$offset,\n    _ref$speed = _ref.speed,\n    speed = _ref$speed === void 0 ? 0 : _ref$speed,\n    sticky = _ref.sticky,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var parent = useContext(ParentContext);\n  var ctrl = useMemoOne(function () {\n    var translate;\n    if (sticky) {\n      var start = sticky.start || 0;\n      translate = start * parent.space;\n    } else {\n      var targetScroll = Math.floor(offset) * parent.space;\n      var distance = parent.space * offset + targetScroll * speed;\n      translate = -(parent.current * speed) + distance;\n    }\n    return new Controller({\n      space: sticky ? parent.space : parent.space * factor,\n      translate: translate\n    });\n  }, []);\n  var layer = useMemoOne(function () {\n    return {\n      horizontal: horizontal === undefined || sticky ? parent.horizontal : horizontal,\n      sticky: undefined,\n      isSticky: false,\n      setPosition: function setPosition(height, scrollTop) {\n        var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        if (sticky) {\n          setSticky(height, scrollTop);\n        } else {\n          var targetScroll = Math.floor(offset) * height;\n          var distance = height * offset + targetScroll * speed;\n          ctrl.start({\n            translate: -(scrollTop * speed) + distance,\n            config: parent.config,\n            immediate: immediate\n          });\n        }\n      },\n      setHeight: function setHeight(height) {\n        var immediate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        ctrl.start({\n          space: sticky ? height : height * factor,\n          config: parent.config,\n          immediate: immediate\n        });\n      }\n    };\n  }, []);\n  useOnce(function () {\n    if (sticky) {\n      var start = sticky.start || 0;\n      var end = sticky.end || start + 1;\n      layer.sticky = {\n        start: start,\n        end: end\n      };\n    }\n  });\n  React.useImperativeHandle(ref, function () {\n    return layer;\n  });\n  var layerRef = useRef();\n  var setSticky = function setSticky(height, scrollTop) {\n    var start = layer.sticky.start * height;\n    var end = layer.sticky.end * height;\n    var isSticky = scrollTop >= start && scrollTop <= end;\n    if (isSticky === layer.isSticky) return;\n    layer.isSticky = isSticky;\n    var ref = layerRef.current;\n    ref.style.position = isSticky ? 'sticky' : 'absolute';\n    ctrl.set({\n      translate: isSticky ? 0 : scrollTop < start ? start : end\n    });\n  };\n  useOnce(function () {\n    if (parent) {\n      parent.layers.add(layer);\n      parent.update();\n      return function () {\n        parent.layers.delete(layer);\n        parent.update();\n      };\n    }\n  });\n  var translate3d = ctrl.springs.translate.to(layer.horizontal ? function (x) {\n    return \"translate3d(\".concat(x, \"px,0,0)\");\n  } : function (y) {\n    return \"translate3d(0,\".concat(y, \"px,0)\");\n  });\n  return React.createElement(a.div, _extends({}, rest, {\n    ref: layerRef,\n    style: _extends((_extends2 = {\n      position: 'absolute',\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      backgroundSize: 'auto',\n      backgroundRepeat: 'no-repeat',\n      willChange: 'transform'\n    }, _defineProperty(_extends2, layer.horizontal ? 'height' : 'width', '100%'), _defineProperty(_extends2, layer.horizontal ? 'width' : 'height', ctrl.springs.space), _defineProperty(_extends2, \"WebkitTransform\", translate3d), _defineProperty(_extends2, \"msTransform\", translate3d), _defineProperty(_extends2, \"transform\", translate3d), _extends2), rest.style)\n  }));\n}));\nvar Parallax = React.memo(React.forwardRef(function (props, ref) {\n  var _extends3;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    ready = _useState2[0],\n    setReady = _useState2[1];\n  var pages = props.pages,\n    _props$config = props.config,\n    config$1 = _props$config === void 0 ? config.slow : _props$config,\n    _props$enabled = props.enabled,\n    enabled = _props$enabled === void 0 ? true : _props$enabled,\n    _props$horizontal = props.horizontal,\n    horizontal = _props$horizontal === void 0 ? false : _props$horizontal,\n    children = props.children,\n    rest = _objectWithoutPropertiesLoose(props, _excluded2);\n  var containerRef = useRef();\n  var contentRef = useRef();\n  var state = useMemoOne(function () {\n    return {\n      config: config$1,\n      horizontal: horizontal,\n      busy: false,\n      space: 0,\n      current: 0,\n      offset: 0,\n      controller: new Controller({\n        scroll: 0\n      }),\n      layers: new Set(),\n      container: containerRef,\n      content: contentRef,\n      update: function update() {\n        return _update();\n      },\n      scrollTo: function scrollTo(offset) {\n        return _scrollTo(offset);\n      },\n      stop: function stop() {\n        return state.controller.stop();\n      }\n    };\n  }, []);\n  useEffect(function () {\n    state.config = config$1;\n  }, [config$1]);\n  React.useImperativeHandle(ref, function () {\n    return state;\n  });\n  var _update = function _update() {\n    var container = containerRef.current;\n    if (!container) return;\n    var spaceProp = horizontal ? 'clientWidth' : 'clientHeight';\n    state.space = container[spaceProp];\n    var scrollType = getScrollType(horizontal);\n    if (enabled) {\n      state.current = container[scrollType];\n    } else {\n      container[scrollType] = state.current = state.offset * state.space;\n    }\n    var content = contentRef.current;\n    if (content) {\n      var sizeProp = horizontal ? 'width' : 'height';\n      content.style[sizeProp] = \"\".concat(state.space * pages, \"px\");\n    }\n    state.layers.forEach(function (layer) {\n      layer.setHeight(state.space, true);\n      layer.setPosition(state.space, state.current, true);\n    });\n  };\n  var _scrollTo = function _scrollTo(offset) {\n    var container = containerRef.current;\n    var scrollType = getScrollType(horizontal);\n    state.offset = offset;\n    state.controller.set({\n      scroll: state.current\n    });\n    state.controller.stop().start({\n      scroll: offset * state.space,\n      config: config$1,\n      onChange: function onChange(_ref2) {\n        var scroll = _ref2.value.scroll;\n        container[scrollType] = scroll;\n      }\n    });\n  };\n  var onScroll = function onScroll(event) {\n    if (!state.busy) {\n      state.busy = true;\n      state.current = event.target[getScrollType(horizontal)];\n      raf.onStart(function () {\n        state.layers.forEach(function (layer) {\n          return layer.setPosition(state.space, state.current);\n        });\n        state.busy = false;\n      });\n    }\n  };\n  useEffect(function () {\n    return state.update();\n  });\n  useOnce(function () {\n    setReady(true);\n    var onResize = function onResize() {\n      var update = function update() {\n        return state.update();\n      };\n      raf.onFrame(update);\n      setTimeout(update, 150);\n    };\n    window.addEventListener('resize', onResize, false);\n    return function () {\n      return window.removeEventListener('resize', onResize, false);\n    };\n  });\n  var overflow = enabled ? {\n    overflowY: horizontal ? 'hidden' : 'scroll',\n    overflowX: horizontal ? 'scroll' : 'hidden'\n  } : {\n    overflowY: 'hidden',\n    overflowX: 'hidden'\n  };\n  return React.createElement(a.div, _extends({}, rest, {\n    ref: containerRef,\n    onScroll: onScroll,\n    onWheel: enabled ? state.stop : undefined,\n    onTouchStart: enabled ? state.stop : undefined,\n    style: _extends({\n      position: 'absolute',\n      width: '100%',\n      height: '100%'\n    }, overflow, {\n      WebkitOverflowScrolling: 'touch',\n      WebkitTransform: START_TRANSLATE,\n      msTransform: START_TRANSLATE,\n      transform: START_TRANSLATE_3D\n    }, rest.style)\n  }), ready && React.createElement(React.Fragment, null, React.createElement(a.div, {\n    ref: contentRef,\n    style: _extends((_extends3 = {\n      overflow: 'hidden',\n      position: 'absolute'\n    }, _defineProperty(_extends3, horizontal ? 'height' : 'width', '100%'), _defineProperty(_extends3, horizontal ? 'width' : 'height', state.space * pages), _defineProperty(_extends3, \"WebkitTransform\", START_TRANSLATE), _defineProperty(_extends3, \"msTransform\", START_TRANSLATE), _defineProperty(_extends3, \"transform\", START_TRANSLATE_3D), _extends3), props.innerStyle)\n  }, React.createElement(ParentContext.Provider, {\n    value: state\n  }, mapChildrenRecursive(children, function (child) {\n    return !child.props.sticky && child;\n  }))), React.createElement(ParentContext.Provider, {\n    value: state\n  }, mapChildrenRecursive(children, function (child) {\n    return child.props.sticky && child;\n  }))));\n}));\nexport { Parallax, ParallaxLayer };","map":{"version":3,"names":["React","useContext","useRef","useState","useEffect","useMemoOne","useOnce","raf","Controller","a","config","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_excluded","_excluded2","ParentContext","createContext","getScrollType","horizontal","mapChildrenRecursive","children","callback","isReactFragment","node","type","Fragment","Children","map","child","props","START_TRANSLATE_3D","START_TRANSLATE","ParallaxLayer","memo","forwardRef","_ref","ref","factor","offset","speed","sticky","rest","parent","ctrl","translate","start","space","targetScroll","Math","floor","distance","current","layer","undefined","isSticky","setPosition","height","scrollTop","immediate","setSticky","setHeight","end","useImperativeHandle","layerRef","style","position","set","layers","add","update","delete","translate3d","springs","to","x","y","createElement","div","top","bottom","left","right","backgroundSize","backgroundRepeat","willChange","Parallax","ready","setReady","pages","config$1","slow","enabled","containerRef","contentRef","state","busy","controller","scroll","Set","container","content","scrollTo","stop","spaceProp","scrollType","sizeProp","forEach","onChange","value","onScroll","event","onStart","onResize","onFrame","setTimeout","window","addEventListener","removeEventListener","overflow","overflowY","overflowX","onWheel","onTouchStart","width","WebkitOverflowScrolling","WebkitTransform","msTransform","transform","innerStyle","Provider"],"sources":["/Users/alex.walker/Projects/cafes/hana-take2/hana/node_modules/@react-spring/parallax/dist/react-spring-parallax.esm.js"],"sourcesContent":["import * as React from 'react';\nimport { useContext, useRef, useState, useEffect } from 'react';\nimport { useMemoOne, useOnce, raf } from '@react-spring/shared';\nimport { Controller, a, config } from '@react-spring/web';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst _excluded = [\"horizontal\", \"factor\", \"offset\", \"speed\", \"sticky\"],\n      _excluded2 = [\"pages\", \"innerStyle\", \"config\", \"enabled\", \"horizontal\", \"children\"];\nconst ParentContext = React.createContext(null);\n\nfunction getScrollType(horizontal) {\n  return horizontal ? 'scrollLeft' : 'scrollTop';\n}\n\nfunction mapChildrenRecursive(children, callback) {\n  const isReactFragment = node => {\n    if (node.type) {\n      return node.type === React.Fragment;\n    }\n\n    return node === React.Fragment;\n  };\n\n  return React.Children.map(children, child => isReactFragment(child) ? mapChildrenRecursive(child.props.children, callback) : callback(child));\n}\n\nconst START_TRANSLATE_3D = 'translate3d(0px,0px,0px)';\nconst START_TRANSLATE = 'translate(0px,0px)';\nconst ParallaxLayer = React.memo(React.forwardRef((_ref, ref) => {\n  let {\n    horizontal,\n    factor = 1,\n    offset = 0,\n    speed = 0,\n    sticky\n  } = _ref,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const parent = useContext(ParentContext);\n  const ctrl = useMemoOne(() => {\n    let translate;\n\n    if (sticky) {\n      const start = sticky.start || 0;\n      translate = start * parent.space;\n    } else {\n      const targetScroll = Math.floor(offset) * parent.space;\n      const distance = parent.space * offset + targetScroll * speed;\n      translate = -(parent.current * speed) + distance;\n    }\n\n    return new Controller({\n      space: sticky ? parent.space : parent.space * factor,\n      translate\n    });\n  }, []);\n  const layer = useMemoOne(() => ({\n    horizontal: horizontal === undefined || sticky ? parent.horizontal : horizontal,\n    sticky: undefined,\n    isSticky: false,\n\n    setPosition(height, scrollTop, immediate = false) {\n      if (sticky) {\n        setSticky(height, scrollTop);\n      } else {\n        const targetScroll = Math.floor(offset) * height;\n        const distance = height * offset + targetScroll * speed;\n        ctrl.start({\n          translate: -(scrollTop * speed) + distance,\n          config: parent.config,\n          immediate\n        });\n      }\n    },\n\n    setHeight(height, immediate = false) {\n      ctrl.start({\n        space: sticky ? height : height * factor,\n        config: parent.config,\n        immediate\n      });\n    }\n\n  }), []);\n  useOnce(() => {\n    if (sticky) {\n      const start = sticky.start || 0;\n      const end = sticky.end || start + 1;\n      layer.sticky = {\n        start,\n        end\n      };\n    }\n  });\n  React.useImperativeHandle(ref, () => layer);\n  const layerRef = useRef();\n\n  const setSticky = (height, scrollTop) => {\n    const start = layer.sticky.start * height;\n    const end = layer.sticky.end * height;\n    const isSticky = scrollTop >= start && scrollTop <= end;\n    if (isSticky === layer.isSticky) return;\n    layer.isSticky = isSticky;\n    const ref = layerRef.current;\n    ref.style.position = isSticky ? 'sticky' : 'absolute';\n    ctrl.set({\n      translate: isSticky ? 0 : scrollTop < start ? start : end\n    });\n  };\n\n  useOnce(() => {\n    if (parent) {\n      parent.layers.add(layer);\n      parent.update();\n      return () => {\n        parent.layers.delete(layer);\n        parent.update();\n      };\n    }\n  });\n  const translate3d = ctrl.springs.translate.to(layer.horizontal ? x => `translate3d(${x}px,0,0)` : y => `translate3d(0,${y}px,0)`);\n  return React.createElement(a.div, _extends({}, rest, {\n    ref: layerRef,\n    style: _extends({\n      position: 'absolute',\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      backgroundSize: 'auto',\n      backgroundRepeat: 'no-repeat',\n      willChange: 'transform',\n      [layer.horizontal ? 'height' : 'width']: '100%',\n      [layer.horizontal ? 'width' : 'height']: ctrl.springs.space,\n      WebkitTransform: translate3d,\n      msTransform: translate3d,\n      transform: translate3d\n    }, rest.style)\n  }));\n}));\nconst Parallax = React.memo(React.forwardRef((props, ref) => {\n  const [ready, setReady] = useState(false);\n\n  const {\n    pages,\n    config: config$1 = config.slow,\n    enabled = true,\n    horizontal = false,\n    children\n  } = props,\n        rest = _objectWithoutPropertiesLoose(props, _excluded2);\n\n  const containerRef = useRef();\n  const contentRef = useRef();\n  const state = useMemoOne(() => ({\n    config: config$1,\n    horizontal,\n    busy: false,\n    space: 0,\n    current: 0,\n    offset: 0,\n    controller: new Controller({\n      scroll: 0\n    }),\n    layers: new Set(),\n    container: containerRef,\n    content: contentRef,\n    update: () => update(),\n    scrollTo: offset => scrollTo(offset),\n    stop: () => state.controller.stop()\n  }), []);\n  useEffect(() => {\n    state.config = config$1;\n  }, [config$1]);\n  React.useImperativeHandle(ref, () => state);\n\n  const update = () => {\n    const container = containerRef.current;\n    if (!container) return;\n    const spaceProp = horizontal ? 'clientWidth' : 'clientHeight';\n    state.space = container[spaceProp];\n    const scrollType = getScrollType(horizontal);\n\n    if (enabled) {\n      state.current = container[scrollType];\n    } else {\n      container[scrollType] = state.current = state.offset * state.space;\n    }\n\n    const content = contentRef.current;\n\n    if (content) {\n      const sizeProp = horizontal ? 'width' : 'height';\n      content.style[sizeProp] = `${state.space * pages}px`;\n    }\n\n    state.layers.forEach(layer => {\n      layer.setHeight(state.space, true);\n      layer.setPosition(state.space, state.current, true);\n    });\n  };\n\n  const scrollTo = offset => {\n    const container = containerRef.current;\n    const scrollType = getScrollType(horizontal);\n    state.offset = offset;\n    state.controller.set({\n      scroll: state.current\n    });\n    state.controller.stop().start({\n      scroll: offset * state.space,\n      config: config$1,\n\n      onChange({\n        value: {\n          scroll\n        }\n      }) {\n        container[scrollType] = scroll;\n      }\n\n    });\n  };\n\n  const onScroll = event => {\n    if (!state.busy) {\n      state.busy = true;\n      state.current = event.target[getScrollType(horizontal)];\n      raf.onStart(() => {\n        state.layers.forEach(layer => layer.setPosition(state.space, state.current));\n        state.busy = false;\n      });\n    }\n  };\n\n  useEffect(() => state.update());\n  useOnce(() => {\n    setReady(true);\n\n    const onResize = () => {\n      const update = () => state.update();\n\n      raf.onFrame(update);\n      setTimeout(update, 150);\n    };\n\n    window.addEventListener('resize', onResize, false);\n    return () => window.removeEventListener('resize', onResize, false);\n  });\n  const overflow = enabled ? {\n    overflowY: horizontal ? 'hidden' : 'scroll',\n    overflowX: horizontal ? 'scroll' : 'hidden'\n  } : {\n    overflowY: 'hidden',\n    overflowX: 'hidden'\n  };\n  return React.createElement(a.div, _extends({}, rest, {\n    ref: containerRef,\n    onScroll: onScroll,\n    onWheel: enabled ? state.stop : undefined,\n    onTouchStart: enabled ? state.stop : undefined,\n    style: _extends({\n      position: 'absolute',\n      width: '100%',\n      height: '100%'\n    }, overflow, {\n      WebkitOverflowScrolling: 'touch',\n      WebkitTransform: START_TRANSLATE,\n      msTransform: START_TRANSLATE,\n      transform: START_TRANSLATE_3D\n    }, rest.style)\n  }), ready && React.createElement(React.Fragment, null, React.createElement(a.div, {\n    ref: contentRef,\n    style: _extends({\n      overflow: 'hidden',\n      position: 'absolute',\n      [horizontal ? 'height' : 'width']: '100%',\n      [horizontal ? 'width' : 'height']: state.space * pages,\n      WebkitTransform: START_TRANSLATE,\n      msTransform: START_TRANSLATE,\n      transform: START_TRANSLATE_3D\n    }, props.innerStyle)\n  }, React.createElement(ParentContext.Provider, {\n    value: state\n  }, mapChildrenRecursive(children, child => !child.props.sticky && child))), React.createElement(ParentContext.Provider, {\n    value: state\n  }, mapChildrenRecursive(children, child => child.props.sticky && child))));\n}));\n\nexport { Parallax, ParallaxLayer };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}