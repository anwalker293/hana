{"ast":null,"code":"var _jsxFileName = \"/Users/alex.walker/Projects/cafes/hana-take2/hana/src/routes/preloader/preloader.component.jsx\",\n  _s = $RefreshSig$();\nimport \"./preloader.styles.scss\";\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Preloader = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [loaded, setLoaded] = useState(false);\n  useEffect(() => {\n    let images = [];\n    const checkImages = () => {\n      const unloadedImages = images.filter(image => !image.complete);\n      if (unloadedImages.length === 0) {\n        setLoaded(true);\n      }\n    };\n    const trackImage = image => {\n      if (image.complete) {\n        checkImages();\n      } else {\n        image.addEventListener(\"load\", checkImages);\n        image.addEventListener(\"error\", checkImages);\n      }\n      images.push(image);\n    };\n    React.Children.map(children, child => {\n      if (child.type === \"img\") {\n        trackImage(child);\n      } else {\n        const childImages = child.querySelectorAll(\"img\");\n        childImages.forEach(image => trackImage(image));\n      }\n    });\n    return () => {\n      images.forEach(image => {\n        image.removeEventListener(\"load\", checkImages);\n        image.removeEventListener(\"error\", checkImages);\n      });\n      images = [];\n    };\n  }, [children]);\n  return loaded ? children : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 30\n  }, this);\n};\n_s(Preloader, \"I8RUn14npbk54TheiKdNt4wCpsU=\");\n_c = Preloader;\nexport default Preloader;\nvar _c;\n$RefreshReg$(_c, \"Preloader\");","map":{"version":3,"names":["React","useState","useEffect","Preloader","children","loaded","setLoaded","images","checkImages","unloadedImages","filter","image","complete","length","trackImage","addEventListener","push","Children","map","child","type","childImages","querySelectorAll","forEach","removeEventListener"],"sources":["/Users/alex.walker/Projects/cafes/hana-take2/hana/src/routes/preloader/preloader.component.jsx"],"sourcesContent":["import \"./preloader.styles.scss\";\nimport React, { useState, useEffect } from \"react\";\n\nconst Preloader = ({ children }) => {\n  const [loaded, setLoaded] = useState(false);\n\n  useEffect(() => {\n    let images = [];\n\n    const checkImages = () => {\n      const unloadedImages = images.filter((image) => !image.complete);\n      if (unloadedImages.length === 0) {\n        setLoaded(true);\n      }\n    };\n\n    const trackImage = (image) => {\n      if (image.complete) {\n        checkImages();\n      } else {\n        image.addEventListener(\"load\", checkImages);\n        image.addEventListener(\"error\", checkImages);\n      }\n      images.push(image);\n    };\n\n    React.Children.map(children, (child) => {\n      if (child.type === \"img\") {\n        trackImage(child);\n      } else {\n        const childImages = child.querySelectorAll(\"img\");\n        childImages.forEach((image) => trackImage(image));\n      }\n    });\n\n    return () => {\n      images.forEach((image) => {\n        image.removeEventListener(\"load\", checkImages);\n        image.removeEventListener(\"error\", checkImages);\n      });\n      images = [];\n    };\n  }, [children]);\n\n  return loaded ? children : <div>Loading...</div>;\n};\n\nexport default Preloader;\n"],"mappings":";;AAAA,OAAO,yBAAyB;AAChC,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC;AAEnD,MAAMC,SAAS,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EAC7B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EAE3CC,SAAS,CAAC,MAAM;IACd,IAAIK,MAAM,GAAG,EAAE;IAEf,MAAMC,WAAW,GAAG,MAAM;MACxB,MAAMC,cAAc,GAAGF,MAAM,CAACG,MAAM,CAAEC,KAAK,IAAK,CAACA,KAAK,CAACC,QAAQ,CAAC;MAChE,IAAIH,cAAc,CAACI,MAAM,KAAK,CAAC,EAAE;QAC/BP,SAAS,CAAC,IAAI,CAAC;MACjB;IACF,CAAC;IAED,MAAMQ,UAAU,GAAIH,KAAK,IAAK;MAC5B,IAAIA,KAAK,CAACC,QAAQ,EAAE;QAClBJ,WAAW,EAAE;MACf,CAAC,MAAM;QACLG,KAAK,CAACI,gBAAgB,CAAC,MAAM,EAAEP,WAAW,CAAC;QAC3CG,KAAK,CAACI,gBAAgB,CAAC,OAAO,EAAEP,WAAW,CAAC;MAC9C;MACAD,MAAM,CAACS,IAAI,CAACL,KAAK,CAAC;IACpB,CAAC;IAEDX,KAAK,CAACiB,QAAQ,CAACC,GAAG,CAACd,QAAQ,EAAGe,KAAK,IAAK;MACtC,IAAIA,KAAK,CAACC,IAAI,KAAK,KAAK,EAAE;QACxBN,UAAU,CAACK,KAAK,CAAC;MACnB,CAAC,MAAM;QACL,MAAME,WAAW,GAAGF,KAAK,CAACG,gBAAgB,CAAC,KAAK,CAAC;QACjDD,WAAW,CAACE,OAAO,CAAEZ,KAAK,IAAKG,UAAU,CAACH,KAAK,CAAC,CAAC;MACnD;IACF,CAAC,CAAC;IAEF,OAAO,MAAM;MACXJ,MAAM,CAACgB,OAAO,CAAEZ,KAAK,IAAK;QACxBA,KAAK,CAACa,mBAAmB,CAAC,MAAM,EAAEhB,WAAW,CAAC;QAC9CG,KAAK,CAACa,mBAAmB,CAAC,OAAO,EAAEhB,WAAW,CAAC;MACjD,CAAC,CAAC;MACFD,MAAM,GAAG,EAAE;IACb,CAAC;EACH,CAAC,EAAE,CAACH,QAAQ,CAAC,CAAC;EAEd,OAAOC,MAAM,GAAGD,QAAQ,gBAAG;IAAA,UAAK;EAAU;IAAA;IAAA;IAAA;EAAA,QAAM;AAClD,CAAC;AAAC,GA1CID,SAAS;AAAA,KAATA,SAAS;AA4Cf,eAAeA,SAAS;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}