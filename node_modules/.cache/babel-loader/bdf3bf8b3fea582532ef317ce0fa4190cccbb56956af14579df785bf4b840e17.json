{"ast":null,"code":"var _jsxFileName = \"/Users/alex.walker/Projects/cafes/hana-take2/hana/src/routes/preloader/preloader.component.jsx\",\n  _s = $RefreshSig$();\nimport \"./preloader.styles.scss\";\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Preloader = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [loaded, setLoaded] = useState(false);\n  useEffect(() => {\n    const images = [];\n    React.Children.map(children, child => {\n      if (child.type === \"img\") {\n        images.push(child.props.src);\n      }\n    });\n    let loadedImages = 0;\n    const onLoad = () => {\n      loadedImages++;\n      if (loadedImages === images.length) {\n        setLoaded(true);\n      }\n    };\n    images.forEach(src => {\n      const img = new Image();\n      img.src = src;\n      img.addEventListener(\"load\", onLoad);\n    });\n    return () => {\n      images.forEach(src => {\n        const img = new Image();\n        img.src = src;\n        img.removeEventListener(\"load\", onLoad);\n      });\n    };\n  }, [children]);\n  return loaded ? children : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 30\n  }, this);\n};\n_s(Preloader, \"I8RUn14npbk54TheiKdNt4wCpsU=\");\n_c = Preloader;\nexport default Preloader;\nvar _c;\n$RefreshReg$(_c, \"Preloader\");","map":{"version":3,"names":["React","useState","useEffect","Preloader","children","loaded","setLoaded","images","Children","map","child","type","push","props","src","loadedImages","onLoad","length","forEach","img","Image","addEventListener","removeEventListener"],"sources":["/Users/alex.walker/Projects/cafes/hana-take2/hana/src/routes/preloader/preloader.component.jsx"],"sourcesContent":["import \"./preloader.styles.scss\";\nimport React, { useState, useEffect } from \"react\";\n\nconst Preloader = ({ children }) => {\n  const [loaded, setLoaded] = useState(false);\n\n  useEffect(() => {\n    const images = [];\n\n    React.Children.map(children, (child) => {\n      if (child.type === \"img\") {\n        images.push(child.props.src);\n      }\n    });\n\n    let loadedImages = 0;\n\n    const onLoad = () => {\n      loadedImages++;\n      if (loadedImages === images.length) {\n        setLoaded(true);\n      }\n    };\n\n    images.forEach((src) => {\n      const img = new Image();\n      img.src = src;\n      img.addEventListener(\"load\", onLoad);\n    });\n\n    return () => {\n      images.forEach((src) => {\n        const img = new Image();\n        img.src = src;\n        img.removeEventListener(\"load\", onLoad);\n      });\n    };\n  }, [children]);\n\n  return loaded ? children : <div>Loading...</div>;\n};\n\nexport default Preloader;\n"],"mappings":";;AAAA,OAAO,yBAAyB;AAChC,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC;AAEnD,MAAMC,SAAS,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EAC7B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EAE3CC,SAAS,CAAC,MAAM;IACd,MAAMK,MAAM,GAAG,EAAE;IAEjBP,KAAK,CAACQ,QAAQ,CAACC,GAAG,CAACL,QAAQ,EAAGM,KAAK,IAAK;MACtC,IAAIA,KAAK,CAACC,IAAI,KAAK,KAAK,EAAE;QACxBJ,MAAM,CAACK,IAAI,CAACF,KAAK,CAACG,KAAK,CAACC,GAAG,CAAC;MAC9B;IACF,CAAC,CAAC;IAEF,IAAIC,YAAY,GAAG,CAAC;IAEpB,MAAMC,MAAM,GAAG,MAAM;MACnBD,YAAY,EAAE;MACd,IAAIA,YAAY,KAAKR,MAAM,CAACU,MAAM,EAAE;QAClCX,SAAS,CAAC,IAAI,CAAC;MACjB;IACF,CAAC;IAEDC,MAAM,CAACW,OAAO,CAAEJ,GAAG,IAAK;MACtB,MAAMK,GAAG,GAAG,IAAIC,KAAK,EAAE;MACvBD,GAAG,CAACL,GAAG,GAAGA,GAAG;MACbK,GAAG,CAACE,gBAAgB,CAAC,MAAM,EAAEL,MAAM,CAAC;IACtC,CAAC,CAAC;IAEF,OAAO,MAAM;MACXT,MAAM,CAACW,OAAO,CAAEJ,GAAG,IAAK;QACtB,MAAMK,GAAG,GAAG,IAAIC,KAAK,EAAE;QACvBD,GAAG,CAACL,GAAG,GAAGA,GAAG;QACbK,GAAG,CAACG,mBAAmB,CAAC,MAAM,EAAEN,MAAM,CAAC;MACzC,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,EAAE,CAACZ,QAAQ,CAAC,CAAC;EAEd,OAAOC,MAAM,GAAGD,QAAQ,gBAAG;IAAA,UAAK;EAAU;IAAA;IAAA;IAAA;EAAA,QAAM;AAClD,CAAC;AAAC,GArCID,SAAS;AAAA,KAATA,SAAS;AAuCf,eAAeA,SAAS;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}